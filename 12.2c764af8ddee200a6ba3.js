(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7RD9":function(t,e,n){"use strict";n.r(e),n.d(e,"JudementModule",(function(){return J}));var i=n("fXoL");let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-popup"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Rb(0,"p"),i.Fc(1,"popup works!"),i.Qb())},styles:[""]}),t})();var s=n("tk/3"),r=n("jtHE"),a=n("tyNb");let c=(()=>{class t{constructor(t,e){this.http=t,this.router=e,this.cartSubject=new r.a,this.CartState=this.cartSubject.asObservable(),this.Products=[],this.tickets=[],this.loggedInUser=new r.a,this.loggedState=this.loggedInUser.asObservable(),this.isOpen=!1,this.refreshTokenExpired=!0,this.baseUrl="http://ec2-13-234-238-28.ap-south-1.compute.amazonaws.com:3000"}ngOnInit(){}createAuthrorizationHeader(){let t=new s.d;const e=localStorage.getItem("access_token");return t=t.set("access_token",e),t}addProduct(t){let e,n=this.createAuthrorizationHeader(),i=this.Products.filter(e=>e.car_id==t.car_id);e=i[0]?{number_of_tickets:i[0].number_of_tickets+1,car_id:i[0].car_id}:{number_of_tickets:1,car_id:t.car_id},this.http.post(this.baseUrl+"/carts",e,{headers:n}).subscribe(t=>{this.getData()})}getData(){const t=this.createAuthrorizationHeader();this.http.get(this.baseUrl+"/carts",{headers:t}).subscribe(t=>{this.Products=t.tickets,this.getTickets(),this.cartSubject.next({loaded:!0,products:this.Products,tickets:this.tickets,total_tickets:t.total_tickets})})}addQuantity(t){let e=this.createAuthrorizationHeader(),n=this.Products.filter(e=>e.car_id==t);this.http.post(this.baseUrl+"/carts",{number_of_tickets:n[0].number_of_tickets+1,car_id:n[0].car_id},{headers:e}).subscribe(t=>{this.getData()})}subtractQuantity(t){let e,n=this.createAuthrorizationHeader(),i=this.Products.filter(e=>e.car_id==t);e=1===i[0].number_of_tickets?0:i[0].number_of_tickets-1,this.http.post(this.baseUrl+"/carts",{number_of_tickets:e,car_id:i[0].car_id},{headers:n}).subscribe(t=>{this.getData()})}getTotalItems(){return this.Products.reduce((t,e)=>t+e.number_of_tickets,0)}getTickets(){this.tickets=[],this.Products.forEach(t=>{let e=t.number_of_tickets,n=0;for(;e--;){let e=Object.assign(Object.assign({},t),{index:++n});this.tickets.push(e)}})}addPoint(t){try{const e={cart_id:t.cart_id,ticket_id:t.ticket_id,index:t.carIndex,x_coord:t.x,y_coord:t.y},n=this.createAuthrorizationHeader();this.http.post(this.baseUrl+"/game/coordinate",e,{headers:n}).subscribe(t=>{t.statusCode&&200===t.statusCode&&this.getData()})}catch(e){console.log("Error in adding point")}}removePoint(t,e){const n={ticket_id:t,index:e},i=this.createAuthrorizationHeader();this.http.post(this.baseUrl+"/game/coordinate",n,{headers:i}).subscribe(t=>{console.log("res",t),t.statusCode&&200===t.statusCode&&this.getData()})}removeProduct(t){let e=this.createAuthrorizationHeader(),n=this.Products.filter(e=>e.car_id==t);this.http.post(this.baseUrl+"/carts",{number_of_tickets:0,car_id:n[0].car_id},{headers:e}).subscribe(t=>{this.getData()})}getCartState(){return this.CartState}register(t){let e;if(this.clearLocalStorage(),this.isSocialLogin){let n=t.name.split(" ");e={first_name:n[0],last_name:n[1],email_id:t.email,phone1:"123456789",phone2:"123456789",country:"India",age_consent:!0,terms_and_conditions:!0},localStorage.setItem("userImage",t.image)}else e={first_name:t.firstname,last_name:t.lastname,email_id:t.email,phone1:t.phone1,phone2:t.phone2,country:t.country,age_consent:!0,terms_and_conditions:!0,password:t.password};return this.http.post(this.baseUrl+"/user/register",e)}setToken(t){localStorage.setItem("access_token",t.access_token),localStorage.setItem("refresh_token",t.refresh_token),localStorage.setItem("user",JSON.stringify(t)),this.refreshTokenExpired=!1,this.loggedInUser.next(JSON.parse(localStorage.getItem("user")))}logout(){let t=this.createAuthrorizationHeader();return this.refreshTokenExpired=!0,this.clearLocalStorage(),this.Products=[],this.cartSubject.next({loaded:!0,products:this.Products}),this.http.post(this.baseUrl+"/user/logout",null,{headers:t})}clearLocalStorage(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),localStorage.removeItem("userImage"),this.refreshTokenExpired=!0,this.loggedInUser.next(null)}getToken(){return localStorage.getItem("access_token")}getRefreshToken(){return localStorage.getItem("refresh_token")}login(t){let e={email_id:t.email,password:t.password};return this.clearLocalStorage(),this.http.post(this.baseUrl+"/user/login",e)}socialLogin(t){let e={email_id:t.email};return this.clearLocalStorage(),localStorage.setItem("userImage",t.image),this.http.post(this.baseUrl+"/user/login/social",e)}homeData(){return this.http.get(this.baseUrl+"/home")}carData(){return this.http.get(this.baseUrl+"/cars")}getUserDetails(){if(localStorage.getItem("user")){let t=JSON.parse(localStorage.getItem("user"));this.loggedInUser.next(t),t.image&&(this.isSocialLogin=!0),this.refreshTokenExpired=!1}return this.loggedState}socialLogout(){this.isSocialLogin=!1,this.refreshTokenExpired=!0,this.Products=[],this.cartSubject.next({loaded:!0,products:this.Products})}togglemodel(){this.isOpen=!this.isOpen}createOrder(t){let e=this.createAuthrorizationHeader(),n=JSON.parse(localStorage.getItem("user"));return this.http.post(this.baseUrl+"/order",{name:n.first_name+" "+n.last_name,email_id:n.email_id,source:"tok_visa"},{headers:e})}searchEmail(t){let e=new s.d;return e=e.set("email_id",t),this.http.get(this.baseUrl+"/user/lookup",{headers:e})}resetPassword(t,e,n){return this.http.post(this.baseUrl+"/user/forgot_password",{email_id:t,new_password:e,confirm_password:n})}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(s.b),i.Vb(a.e))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=n("0IaG"),d=n("5eHb"),g=n("xQmN"),h=n("kZQG"),p=n("ofXK"),b=n("Xa2L");function u(t,e){1&t&&i.Mb(0,"mat-progress-spinner",15),2&t&&i.ic("strokeWidth",5)("diameter",240)}const m=function(t){return{"click-again-snack-message":!0,draw:t}},f=function(t){return{display:t}},v=function(t){return{"option-disabled":t}};let x=(()=>{class t{constructor(t,e,n,i,o,s){this.service=t,this.dialog=e,this.router=n,this.toastr=i,this.judgeService=o,this.weeklyGamesService=s,this.MULTIPLIER_CONSTANT=1.25,this.DISPLAY_WIDTH=600*this.MULTIPLIER_CONSTANT,this.DISPLAY_HEIGHT=400*this.MULTIPLIER_CONSTANT,this.loading=!1,this.points=[],this.products=[],this.tickets=[],this.coordinates=[],this.initialResponse=!0,this.currentCarIndex=1,this.currentItemSelected=null,this.totalTickets=0,this.judgeCoords=[],this.disabled=!1,this.linepoints=[],this.draw=!0,this.counter=0,this.plusIcon=new Image,this.renderLines=!1,this.initialDrawLineMethodCalled=!1,this.totalPointsCount=0,this.subscription=this.service.getCartState().subscribe(t=>{this.products=t.products,this.points=t.tickets,this.renderCanvas()}),console.log("hero in canvas constructor",this.hero)}ngOnInit(){console.log("hero in canvas onint",this.hero),this.currentWeekImage=this.hero,this.weeklyGamesService.getCurrentWeekGame().subscribe(t=>{console.log("getCurrentWeekGame1",t),200===t.status&&(this.drawbackground(),this.renderCanvas(),this.judgeService.getJudgeCoords().subscribe(t=>{console.log("getJudgeCoords",t),this.judgeCoords=t.data},t=>{console.log(t)}),this.toggle())},t=>{console.log(t)})}toggle(){if(this.draw)this.magnify(2,this.canvas,this.ctx);else if(this.initialDrawLineMethodCalled){const t=document.getElementById("magnifier");t&&t.remove()}else this.drawLine(this.canvas,this.ctx),this.initialDrawLineMethodCalled=!0;this.draw=!this.draw}drawbackground(){this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d");var t=this.ctx;let e=this.canvas;this.canvas.width=this.DISPLAY_WIDTH,this.canvas.height=this.DISPLAY_HEIGHT;var n=new Image;n.src=this.currentWeekImage,n.onload=function(){t.drawImage(n,0,0,e.width,e.height)}}drawLine(t,e){var n=new Image;n.src="../../assets/plus.svg";var i=this.points;const o=document.getElementById("magnifier");o&&o.remove(),this.counter++,t.removeEventListener("mousedown",g,!1),t.removeEventListener("mousemove",p,!1),t.removeEventListener("mouseup",b,!1),t.addEventListener("mousedown",g,!1),t.addEventListener("mousemove",p,!1),t.addEventListener("mouseup",b,!1);var s,r,a=!1,c=new Image;function l(t,e){this.x=t,this.y=e}function d(t,e){this.stPoint=t,this.endPoint=e}function g(t){a=!0,s=new l(t.layerX,t.layerY)}c.src=this.currentWeekImage,c.alt="game-image";const h=this;function p(o){a&&(h.ctx.drawImage(c,0,0,t.width,t.height),i.forEach(t=>{t.coords&&(e.drawImage(n,t.coords.x-6,t.coords.y-6,12,12),e.fillStyle="#666",e.fillStyle="#000")}),h.linepoints.forEach((function(t){e.beginPath(),e.moveTo(t.stPoint.x,t.stPoint.y),e.lineTo(t.endPoint.x,t.endPoint.y),e.stroke(),e.closePath()})),h.ctx.beginPath(),h.ctx.moveTo(s.x,s.y),h.ctx.lineTo(o.layerX,o.layerY),h.ctx.stroke(),h.ctx.closePath())}function b(t){a=!1,r=new l(t.layerX,t.layerY),h.linepoints.push(new d(s,r))}}magnify(t,e,n){var i,o,s,r;i=e;var a=e.toDataURL("image/png"),c=new Image(this.DISPLAY_WIDTH,this.DISPLAY_HEIGHT);c.src=this.currentWeekImage;var l=new Image;l.src="../../assets/plus.svg",(o=document.createElement("DIV")).setAttribute("class","img-magnifier-glass"),o.setAttribute("id","magnifier"),i.parentElement.insertBefore(o,i),o.style.backgroundImage=0==this.counter?"url('"+c.src+"')":"url('"+a+"')",o.style.backgroundRepeat="no-repeat",o.style.backgroundSize=i.width*t+"px "+i.height*t+"px",s=o.offsetWidth/2,r=o.offsetHeight/2,o.addEventListener("mousemove",g),i.addEventListener("mousemove",g),o.addEventListener("touchmove",g),i.addEventListener("touchmove",g);const d=this;function g(e){var a,c,g;e.preventDefault(),a=function(t){var e,n=0,o=0;return t=t||window.event,e=i.getBoundingClientRect(),n=t.pageX-e.left,o=t.pageY-e.top,{x:n-=window.pageXOffset,y:o-=window.pageYOffset}}(e),c=a.x,g=a.y,o.onclick=function(){console.log("currentItem selected",d.currentItemSelected),function(t,e){d.judge_x_coordinate=t,d.judge_y_coordinate=e,console.log("new plot point",t,e),n.drawImage(l,t-6,e-6,12,12),n.fillStyle="#666",n.fillStyle="#000"}(c-.671875,g)},c>i.width-s/t&&(c=i.width-s/t),c<s/t&&(c=s/t),g>i.height-r/t&&(g=i.height-r/t),g<r/t&&(g=r/t),o.style.left=c-s+"px",o.style.top=g-r+"px",o.style.backgroundPosition="-"+(c*t-s+3)+"px -"+(g*t-r+3)+"px"}}checkout(){this.totalTickets==this.currentItemSelected.ticketsPlayed||(console.log(this.totalTickets+" "+this.currentItemSelected.ticketsPlayed),this.dialog.open(o,{data:{message:"Please Play All the tickets before checkout",button:"OK"}}))}navigateToCars(){this.router.navigate(["/cars"])}setCarIndexes(){console.log("inside car indexes function",this.points);const t=this.products;let e,n,i=null,o=1,s=0;t:for(n=0;n<t.length;n++){if(i=t[n],e=i.number_of_tickets,!("coordinates"in i)){o=1,s+=1;break t}if(s+=i.coordinates.length,i.coordinates.length<e){o=i.coordinates.length+1;break t}}this.currentItemSelected=Object.assign(Object.assign({},i),{ticketsPlayed:s,carIndex:o})}renderCanvas(){this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d");try{this.ctx&&this.ctx.clearRect(0,0,this.DISPLAY_WIDTH,this.DISPLAY_HEIGHT);const t=new Image;t.src=this.currentWeekImage,t.alt="game-background-image",t.onload=()=>{this.ctx.drawImage(t,0,0,this.DISPLAY_WIDTH,this.DISPLAY_HEIGHT);const e=new Image;e.src="../../assets/plus.svg",e.alt="plus-icon",e.onload=()=>{console.log("plus incon loaded"),this.judgeCoords.forEach(t=>{this.ctx.drawImage(e,t.x,t.y,12,12)})}}}catch(t){console.log("Error in rendering canvas")}}handleClose(){this.renderCanvas(),this.linepoints=[]}handleLines(){if(this.renderLines){const t=this;this.linepoints.forEach((function(e){const n=t.ctx;n.beginPath(),n.moveTo(e.stPoint.x,e.stPoint.y),n.lineTo(e.endPoint.x,e.endPoint.y),n.stroke(),n.closePath()}))}else this.renderCanvas();this.renderLines=!this.renderLines}popLastLine(){const t=this;t.renderCanvas(),t.linepoints.length&&(t.linepoints.pop(),t.linepoints.forEach((function(e){e&&e.stPoint&&e.stPoint.x&&e.stPoint&&e.stPoint.y&&(t.ctx.beginPath(),t.ctx.moveTo(e.stPoint.x,e.stPoint.y),t.ctx.lineTo(e.endPoint.x,e.endPoint.y),t.ctx.stroke(),t.ctx.closePath())})))}replay(t,e){this.service.removePoint(t.ticket_id,e)}displayinfo(){this.dialog.open(o,{data:{message:"Please Note:",paragraph:"Exact pixel mapping can be viewed through the magnifier. Other (lower resolution) views are for reference only, and the exact coordinates you choose will be recorded in your basket and in your order.The behaviour of the line drawing tools may not be consistent across all devices, browsers and screen resolutions, and are provided only to assist with your coordinate selection on desktop (non-touch screen) devices.",button:"OK"}})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(c),i.Lb(l.b),i.Lb(a.e),i.Lb(d.b),i.Lb(g.a),i.Lb(h.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-canvas"]],inputs:{hero:"hero"},decls:18,vars:16,consts:[[1,"app-canvas-container"],["id","click-again-snack-message",1,"click-again-snack-message",3,"ngClass"],[2,"width","100%","text-align","center","padding-top","25px","color","#ff0000"],["id","canvas-wrapper",1,"canvas-wrapper",2,"padding","16px",3,"ngStyle"],["id","options-container",1,"options-container"],[1,"fa","fa-pencil","icon",3,"click"],[1,"fa","fa-undo","icon",3,"ngClass","click"],[1,"fa","fa-eye-slash","icon",3,"ngClass","click"],[1,"fa","fa-times","icon",3,"ngClass","click"],[1,"fa","fa-info-circle","icon",3,"click"],[1,"img-magnifier-container",2,"display","flex","max-height","720px"],["id","canvas",1,"canvas-container",2,"cursor","crosshair"],["canvas",""],[1,"col-3",2,"display","flex","flex-direction","column","justify-content","space-between","align-items","stretch"],["mode","indeterminate","color","warn","style","margin: 100px auto;",3,"strokeWidth","diameter",4,"ngIf"],["mode","indeterminate","color","warn",2,"margin","100px auto",3,"strokeWidth","diameter"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Fc(2," Click Again on Draw To Plot Points "),i.Qb(),i.Rb(3,"h2",2),i.Rb(4,"b"),i.Fc(5," SPOT THE BALL - DREAM CAR"),i.Qb(),i.Qb(),i.Rb(6,"div",3),i.Rb(7,"div",4),i.Rb(8,"i",5),i.Yb("click",(function(){return e.toggle()})),i.Qb(),i.Rb(9,"i",6),i.Yb("click",(function(){return e.popLastLine()})),i.Qb(),i.Rb(10,"i",7),i.Yb("click",(function(){return e.handleLines()})),i.Qb(),i.Rb(11,"i",8),i.Yb("click",(function(){return e.handleClose()})),i.Qb(),i.Rb(12,"i",9),i.Yb("click",(function(){return e.displayinfo()})),i.Qb(),i.Qb(),i.Rb(13,"div",10),i.Mb(14,"canvas",11,12),i.Mb(16,"div",13),i.Qb(),i.Qb(),i.Dc(17,u,1,2,"mat-progress-spinner",14),i.Qb()),2&t&&(i.Ab(1),i.ic("ngClass",i.kc(6,m,e.draw)),i.Ab(5),i.ic("ngStyle",i.kc(8,f,e.loading?"none":"")),i.Ab(3),i.ic("ngClass",i.kc(10,v,!e.draw)),i.Ab(1),i.ic("ngClass",i.kc(12,v,!e.draw)),i.Ab(1),i.ic("ngClass",i.kc(14,v,!e.draw)),i.Ab(6),i.ic("ngIf",e.loading))},directives:[p.j,p.m,p.l,b.a],styles:["p[_ngcontent-%COMP%]{font-family:Roboto}*[_ngcontent-%COMP%]{box-sizing:border-box}.app-canvas-container[_ngcontent-%COMP%]{color:#696969}.img-magnifier-container[_ngcontent-%COMP%]{position:relative}  .img-magnifier-glass{position:absolute;border:2px solid red;border-radius:50%;cursor:crosshair;width:75px;height:75px}  .img-magnifier-glass>i{position:relative;top:calc(50% - 10px)}.icon[_ngcontent-%COMP%]{font-size:24px;margin:auto}.options-container[_ngcontent-%COMP%]{margin:0 16px 16px;width:50px;height:320px;display:grid;border-radius:8px}.canvas-container[_ngcontent-%COMP%]{padding:0;border-radius:8px;box-shadow:0 0 4px #adacab}.canvas-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:flex-start;width:100%}.click-again-snack-message[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:26px;text-align:center;border-radius:4px;background-color:#ffa07a;padding:12px;visibility:hidden;display:flex;justify-content:center;align-items:center}.draw[_ngcontent-%COMP%]{visibility:visible}.button[_ngcontent-%COMP%]{background-color:red;color:#fff}.replay-button[_ngcontent-%COMP%]{width:60px;height:20px;display:flex;justify-content:center;align-items:center;font-size:12px;line-height:16px;font-weight:300}.ticket-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:flex-start;transition:background-color .2s ease-out}.top-content[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:74px auto auto}.bottom-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.ticket-wrapper[_ngcontent-%COMP%]:hover{background-color:#c7c7c7;cursor:pointer}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.option-disabled[_ngcontent-%COMP%]{color:#dbdbdb;pointer-events:none}i[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:50%;padding:8px}.submit-btn-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0}"]}),t})();var k=n("pMoy");function w(t,e){if(1&t&&(i.Rb(0,"div",7),i.Rb(1,"div",8),i.Rb(2,"div",9),i.Mb(3,"mat-checkbox"),i.Qb(),i.Rb(4,"div",10),i.Fc(5),i.Qb(),i.Qb(),i.Qb()),2&t){const t=e.$implicit;i.Ab(5),i.Hc(" ",t.name," ")}}let _=(()=>{class t{constructor(t,e,n){this.judgeService=t,this.toastr=e,this.router=n,this.judgeList=[];const i=history.state.data;console.log("prev data is",i),this.currentWeekImage=i.image}ngOnInit(){this.getJudgeCoords()}getJudgeCoords(){this.judgeService.getJudgeCoords().subscribe(t=>{console.log("getJudgeCoords",t),this.judgeList=t.data},t=>{console.log(t)})}showAverage(){console.log("showAverage",this.currentGameId),this.judgeService.getJudgeAveragePoint(this.currentGameId).subscribe(t=>{console.log(t),200===t.status&&this.toastr.success(t.message)},t=>{console.log(t)})}submitAverage(){console.log("submitAverage"),this.router.navigateByUrl("/dashboard/judgement/top-participants")}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(g.a),i.Lb(d.b),i.Lb(a.e))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-game-details"]],viewQuery:function(t,e){var n;1&t&&i.Jc(x,!0),2&t&&i.qc(n=i.Zb())&&(e.canvas=n.first)},decls:10,vars:2,consts:[[1,"row"],[1,"col-8"],[3,"hero"],[1,"col-4","judge-list-container"],[1,"judge-list"],["class","judge-card",4,"ngFor","ngForOf"],[1,"botb-btn","bg-red",3,"click"],[1,"judge-card"],[1,"d-flex"],[1,"box",2,"background-color","#84ff5b"],[1,"judge-name"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Mb(2,"app-canvas",2),i.Qb(),i.Rb(3,"div",3),i.Rb(4,"div",4),i.Dc(5,w,6,1,"div",5),i.Qb(),i.Rb(6,"div",6),i.Yb("click",(function(){return e.showAverage()})),i.Fc(7," Show Average Point "),i.Qb(),i.Rb(8,"div",6),i.Yb("click",(function(){return e.submitAverage()})),i.Fc(9," Submit "),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.Ab(2),i.ic("hero",e.currentWeekImage),i.Ab(3),i.ic("ngForOf",e.judgeList))},directives:[x,p.k,k.a],styles:[".judge-list-container[_ngcontent-%COMP%]{padding:30px 10px}.judge-card[_ngcontent-%COMP%]{margin:5px 0}"]}),t})();var P=n("3Pt+"),y=n("rEr+"),I=n("7zfz"),C=n("Dxy4"),O=n("ZFy/"),S=n("NFeN");function L(t,e){1&t&&(i.Rb(0,"div",7),i.Rb(1,"div",8),i.Rb(2,"h3"),i.Fc(3,"Current Game Nearest Participants"),i.Qb(),i.Qb(),i.Qb())}function R(t,e){1&t&&(i.Rb(0,"tr"),i.Rb(1,"th"),i.Fc(2,"Name"),i.Qb(),i.Rb(3,"th"),i.Fc(4,"Phone"),i.Qb(),i.Rb(5,"th"),i.Fc(6,"Total Tickets"),i.Qb(),i.Rb(7,"th"),i.Fc(8,"X Coord"),i.Qb(),i.Rb(9,"th"),i.Fc(10,"Y Coord"),i.Qb(),i.Rb(11,"th"),i.Fc(12,"Action"),i.Qb(),i.Qb())}function M(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td"),i.Fc(2),i.Qb(),i.Rb(3,"td"),i.Fc(4),i.Qb(),i.Rb(5,"td"),i.Fc(6),i.Qb(),i.Rb(7,"td"),i.Fc(8),i.Qb(),i.Rb(9,"td"),i.Fc(10),i.Qb(),i.Rb(11,"td"),i.Rb(12,"button",9),i.Rb(13,"mat-icon"),i.Fc(14,"emoji_events"),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&t){const t=e.$implicit,n=i.cc();i.Ab(2),i.Ic("",t.first_name," ",t.last_name,""),i.Ab(2),i.Hc("",t.phone1," "),i.Ab(2),i.Gc(t.total_tickets),i.Ab(2),i.Gc(t.x_coord),i.Ab(2),i.Gc(t.y_coord),i.Ab(2),i.ic("matTooltipPosition",n.position.value)}}function Q(t,e){if(1&t&&(i.Rb(0,"div",10),i.Fc(1),i.Qb()),2&t){const t=i.cc();i.Ab(1),i.Hc(" In total there are ",t.nearestParticipants?t.nearestParticipants.length:0," Nearest Participants. ")}}const T=function(){return[10,25,50]};let A=(()=>{class t{constructor(t){this.weeklyGamesService=t,this.nearestParticipants=[{created_on:"2020-10-25T15:33:41.000Z",id:6,is_blocked:0,is_deleted:0,name:"judge name",password:"$2a$10$v20ijNaC4HQXkNSJFMRQBezd90ibxyInFY2pfHXKJYv8805Z3R/FG",profile_pic:"https://botb.s3.ap-south-1.amazonaws.com/WhatsApp%20Image%202020-10-16%20at%208.26.18%20PM.jpeg"}],this.positionOptions=["after","before","above","below","left","right"],this.position=new P.c(this.positionOptions[0])}ngOnInit(){this.getCurrentGameNearestParticipants()}getCurrentGameNearestParticipants(){this.weeklyGamesService.getCurrentGameNearestParticipants().subscribe(t=>{console.log(t),this.nearestParticipants=t.data},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(h.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-top-participants"]],decls:7,vars:6,consts:[[1,"m-40"],[1,"w-100"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[1,"row"],[1,"col-12"],["mat-mini-fab","","color","primary","matTooltip","Select as winner","aria-label","Example icon button with a menu icon",3,"matTooltipPosition"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"p-table",2),i.Dc(3,L,4,0,"ng-template",3),i.Dc(4,R,13,0,"ng-template",4),i.Dc(5,M,15,7,"ng-template",5),i.Dc(6,Q,2,1,"ng-template",6),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.Ab(2),i.ic("value",e.nearestParticipants)("rows",6)("showCurrentPageReport",!0)("rowsPerPageOptions",i.jc(5,T))("paginator",!0))},directives:[y.a,I.e,C.a,O.a,S.a],styles:[".m-40[_ngcontent-%COMP%]{margin:40px}"]}),t})();function E(t,e){1&t&&(i.Rb(0,"div",11),i.Rb(1,"div",12),i.Fc(2,"SELECTED"),i.Qb(),i.Qb())}function j(t,e){if(1&t&&(i.Rb(0,"div",13),i.Rb(1,"div",12),i.Fc(2),i.Qb(),i.Qb()),2&t){const t=i.cc().$implicit;i.Ab(2),i.Hc("WEEK ",t.week_id,"")}}function D(t,e){1&t&&(i.Rb(0,"h2",14),i.Fc(1,"NOT SELECTED"),i.Qb())}const F=function(t){return{"background-image":t}};function H(t,e){if(1&t){const t=i.Sb();i.Rb(0,"div",4),i.Rb(1,"div",5),i.Yb("click",(function(){i.tc(t);const n=e.$implicit;return i.cc().navigateToGameDetails(n)})),i.Rb(2,"div",6),i.Rb(3,"div",7),i.Dc(4,E,3,0,"div",8),i.Dc(5,j,3,1,"div",9),i.Dc(6,D,2,0,"h2",10),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&t){const t=e.$implicit;i.Ab(1),i.ic("ngStyle",i.kc(4,F,"url("+t.image+")")),i.Ab(3),i.ic("ngIf",t.is_winner_selected),i.Ab(1),i.ic("ngIf",!t.is_winner_selected),i.Ab(1),i.ic("ngIf",!t.is_winner_selected)}}const G=[{path:"",component:(()=>{class t{constructor(t,e,n,i){this.judgeService=t,this.weeklyGamesService=e,this.toastr=n,this.router=i,this.getGames()}ngOnInit(){}navigateToGameDetails(t){console.log("week is ",t),this.router.navigate(["/dashboard/judgement/game-details"],{state:{data:t}})}getGames(){this.weeklyGamesService.getgameImages().subscribe(t=>{console.log("winner",t),200===t.status&&(this.weekList=t.data)},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(g.a),i.Lb(h.a),i.Lb(d.b),i.Lb(a.e))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-judgement"]],decls:4,vars:1,consts:[[1,"m-40"],[1,"col-12"],[1,"row"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],[1,"week-card",3,"ngStyle","click"],[1,"week-card-overlay"],[1,"front"],["class","ribbon-wrapper",4,"ngIf"],["class","ribbon-wrapper-warning",4,"ngIf"],["class","m-0 ns",4,"ngIf"],[1,"ribbon-wrapper"],[1,"ribbon"],[1,"ribbon-wrapper-warning"],[1,"m-0","ns"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"div",2),i.Dc(3,H,7,6,"div",3),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.Ab(3),i.ic("ngForOf",e.weekList))},directives:[p.k,p.m,p.l],styles:[".checkbox-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}.box[_ngcontent-%COMP%]{padding:5px 5px 0;text-align:center;margin-right:6px}.bg-red[_ngcontent-%COMP%]{background:#d50000}.bg-blue[_ngcontent-%COMP%]{background:#00f}.bg-green[_ngcontent-%COMP%]{background-color:green}.botb-btn[_ngcontent-%COMP%]{padding:10px;text-align:center;color:#fff;margin:4px 0;cursor:pointer}.bg-rebeccapurple[_ngcontent-%COMP%]{background:#639}.ns[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.30980392156862746)}.ribbon-wrapper[_ngcontent-%COMP%]{width:82px;height:85px;overflow:hidden;position:absolute;top:1px;left:15px}.ribbon-wrapper[_ngcontent-%COMP%]   .ribbon[_ngcontent-%COMP%]{font:700 7px sans-serif;color:#333;text-align:center;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);position:relative;padding:7px 0;top:15px;left:-30px;width:120px;background-color:green;color:#fff}.ribbon-wrapper-warning[_ngcontent-%COMP%]{width:82px;height:85px;overflow:hidden;position:absolute;top:1px;left:15px}.ribbon-wrapper-warning[_ngcontent-%COMP%]   .ribbon[_ngcontent-%COMP%]{font:700 7px sans-serif;color:#333;text-align:center;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);position:relative;padding:7px 0;top:15px;left:-30px;width:120px;background-color:red;color:#fff}.m-40[_ngcontent-%COMP%]{margin:40px}.week-card[_ngcontent-%COMP%]{text-align:center;border-radius:30px;cursor:pointer;background-size:cover}.week-card-overlay[_ngcontent-%COMP%]{background:rgba(19,20,50,.38823529411764707);padding:70px 50px;border-radius:30px}.flip[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-right:2px;margin-bottom:1em;width:250px}.flip[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%] > .front[_ngcontent-%COMP%]{display:block;color:#fff;width:inherit;background-size:cover!important;background-position:50%!important;height:150px;padding:.3em;background:#f1f1f1;border-radius:10px}.flip[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%] > .front[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9125rem;line-height:160%;color:#999}"]}),t})()},{path:"top-participants",component:A},{path:"game-details",component:_}];let U=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},imports:[[a.h.forChild(G)],a.h]}),t})();var Y=n("/t3+"),z=n("XhcP"),N=n("STbY"),W=n("Nf9I");let J=(()=>{class t{constructor(){console.log("judgement module loaded")}}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},imports:[[p.c,U,l.c,b.b,N.a,z.a,S.b,Y.a,k.b,y.b,W.b,C.b,O.b]]}),t})()}}]);